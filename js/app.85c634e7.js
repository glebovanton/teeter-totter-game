(function(e){function t(t){for(var i,u,o=t[0],s=t[1],l=t[2],d=0,g=[];d<o.length;d++)u=o[d],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&g.push(r[u][0]),r[u]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);c&&c(t);while(g.length)g.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(i=!1)}i&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var i={},r={app:0},a=[];function u(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=i,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)u.d(n,i,function(t){return e[t]}.bind(null,i));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0fad":function(e,t,n){},3879:function(e,t,n){},"458f":function(e,t,n){},"50f2":function(e,t,n){},"5c0b":function(e,t,n){"use strict";n("458f")},6417:function(e,t,n){"use strict";n("3879")},6861:function(e,t,n){},"6d14":function(e,t,n){},"6d63":function(e,t,n){"use strict";n("6d14")},"6fc5":function(e,t,n){},"703a":function(e,t,n){},"9e1a":function(e,t,n){"use strict";n("50f2")},ae32:function(e,t,n){"use strict";n("703a")},c3b6:function(e,t,n){"use strict";n("efb8")},cd49:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"autoGame",(function(){return Fe})),n.d(i,"resetGame",(function(){return Se})),n.d(i,"toggleGameState",(function(){return ye}));var r={};n.r(r),n.d(r,"boardBendingAngle",(function(){return Be})),n.d(r,"fallingFigures",(function(){return Ee})),n.d(r,"isAutoGame",(function(){return Le})),n.d(r,"isBoardAngleWithinLimits",(function(){return Ie})),n.d(r,"isGameOver",(function(){return Ae})),n.d(r,"isGamePaused",(function(){return Ce})),n.d(r,"leftSideEnergy",(function(){return ke})),n.d(r,"leftSideFigures",(function(){return xe})),n.d(r,"leftSideFiguresSum",(function(){return Pe})),n.d(r,"rightSideEnergy",(function(){return Te})),n.d(r,"rightSideFigures",(function(){return Re})),n.d(r,"rightSideFiguresSum",(function(){return We})),n.d(r,"sidesEnergyDifference",(function(){return $e}));var a={};n.r(a),n.d(a,"addLeftSideFigures",(function(){return qe})),n.d(a,"clearFigures",(function(){return De})),n.d(a,"generateFigure",(function(){return He})),n.d(a,"moveFigure",(function(){return Ye})),n.d(a,"updateFallingInterval",(function(){return Je})),n.d(a,"setAutoGame",(function(){return Ve})),n.d(a,"setGameState",(function(){return ze})),n.d(a,"setIsGameOver",(function(){return Ke}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var u,o,s=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("AirSpace"),n("TeeterTotter"),e.isGameOver?n("GameOver"):e._e()],1)},c=[],d=n("5530"),g=n("2f62"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["air-space",e.airSpaceClass]},e._l(e.fallingFigures,(function(t){return n("Figure",{key:t.id,attrs:{figure:t,id:""+e.figureId+t.id}})})),1)},h=[],m=(n("99af"),n("caad"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["figure",e.figure.type],style:e.cssVars},[n("p",{staticClass:"text"},[n("b",[e._v(e._s(e.figure.weight))]),e._v(" kg ")])])}),v=[],p=30,b=100,F=2e3,S=!0,y=10,O=10,G=1,_=1,j=.1,w="teeter-totter__air-space",B="teeter-totter__board",E="falling-figure-",L="teeter-totter__header",I=s["a"].extend({name:"Figure",props:{isOnBoard:{type:Boolean,default:!1},isRightSide:{type:Boolean,default:!1},figure:{type:Object,required:!0}},computed:{cssVars:function(){return{"--figure-color":this.figure.color,"--figure-scale":this.figure.scale}}},mounted:function(){this.setAppearance(),this.$watch("figure.left",this.setPosition,{immediate:!0})},methods:{setAppearance:function(){var e=this.$el.style;this.isOnBoard&&(e.transform+=" translateY(-100%)")},setPosition:function(e){var t=this.$el.getBoundingClientRect(),n=t.width,i=this.isRightSide?b/2+10:0;this.$el.style.left=this.isRightSide&&e>b/4?"calc(".concat(i+e,"% - ").concat(n,"px)"):"".concat(i+e,"%")}}}),A=I,C=(n("ae32"),n("2877")),k=Object(C["a"])(A,m,v,!1,null,"56760712",null),x=k.exports,P=s["a"].extend({name:"AirSpace",components:{Figure:x},data:function(){return{airSpaceClass:w,figureId:E,figureBottomLimit:null,timerId:null}},computed:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(g["c"])(["isAutoGame","boardBendingAngle","isBoardAngleWithinLimits","sidesEnergyDifference"])),Object(g["e"])(["fallingInterval","fallingFigures","isGamePaused"])),{},{fallingFigureEl:function(){var e=this.fallingFigures[0].id;return document.getElementById("".concat(E).concat(e))}}),mounted:function(){var e=this,t=document.querySelector(".".concat(B));null===t||void 0===t||t.addEventListener("transitionend",this.handleBoardTransitionEnd),window.addEventListener("keydown",this.moveFallingFigure),this.$once("hook:beforeDestroy",(function(){null===t||void 0===t||t.removeEventListener("transitionend",e.handleBoardTransitionEnd),window.removeEventListener("keydown",e.moveFallingFigure)}))},watch:{isAutoGame:{handler:function(e){e?window.removeEventListener("keydown",this.moveFallingFigure):window.addEventListener("keydown",this.moveFallingFigure)}},isGamePaused:{handler:function(e){e?clearInterval(this.timerId):(this.getFigureBottomLimit(),this.animateFigure())}},sidesEnergyDifference:{handler:function(e){e>F&&this.setIsGameOver(!0)}}},methods:Object(d["a"])(Object(d["a"])({},Object(g["d"])(["addLeftSideFigures","generateFigure","moveFigure","setIsGameOver","setGameState","toggleModal","updateFallingInterval"])),{},{animateFigure:function(){var e=this,t=1;this.timerId=setInterval((function(){var n,i=null===(n=e.fallingFigures)||void 0===n?void 0:n[0];if(i)if(i.top>=e.figureBottomLimit){var r=e.fallingFigures.shift();clearInterval(e.timerId),e.addLeftSideFigures(r),e.updateFallingInterval(),e.generateFigure(),e.animateFigure()}else i.top=i.top+t,e.fallingFigureEl.style.top="".concat(i.top,"px")}),this.fallingInterval)},getFigureBottomLimit:function(){var e,t,n,i,r=null===(e=document)||void 0===e||null===(t=e.querySelector(".".concat(B)))||void 0===t?void 0:t.getBoundingClientRect(),a=null===(n=document)||void 0===n||null===(i=n.querySelector(".".concat(L)))||void 0===i?void 0:i.getBoundingClientRect(),u=this.fallingFigureEl.getBoundingClientRect();if(r){var o=r.bottom-r.top,s=this.fallingFigures[0].left*o/b;u&&a&&(this.figureBottomLimit=this.boardBendingAngle>=0?r.top+s-u.height-a.height:r.bottom-s-u.height-a.height)}},handleBoardTransitionEnd:function(){this.isGamePaused||(this.isBoardAngleWithinLimits?this.getFigureBottomLimit():(this.setGameState(S),this.setIsGameOver(!0)))},moveFallingFigure:function(e){var t,n,i=e.keyCode,r=37,a=39,u=[r,a].includes(i);if(!this.isGamePaused&&u){var o=this.fallingFigureEl.getBoundingClientRect().width,s=null===(t=document)||void 0===t||null===(n=t.querySelector(".".concat(w)))||void 0===n?void 0:n.getBoundingClientRect().width;s&&o&&this.moveFigure({isMoveLeft:i===r,width:o/s*100}),this.$nextTick(this.getFigureBottomLimit)}}})}),T=P,R=(n("f001"),Object(C["a"])(T,f,h,!1,null,"a64c9ff6",null)),W=R.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-over"},[e._m(0),n("hr"),n("GameButton",{attrs:{color:e.Color.Green,label:"Play again"},nativeOn:{click:function(t){return e.resetGame.apply(null,arguments)}}})],1)},M=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"pen-intro"},[n("h1",[e._v("Game over")])])}],q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:["eightbit-btn",e.color,{selected:e.isSelected}]},[e._v(" "+e._s(e.label)+" ")])},D=[];(function(e){e["Green"]="green",e["Red"]="red",e["Yellow"]="yellow",e["Grey"]="grey"})(u||(u={})),function(e){e["Circle"]="circle",e["Square"]="square",e["Triangle"]="triangle"}(o||(o={}));var H=s["a"].extend({name:"GameButton",props:{color:{type:String,default:u.Grey},label:{type:String,default:""},isSelected:{type:Boolean,default:!1}}}),Y=H,J=(n("6417"),Object(C["a"])(Y,q,D,!1,null,"e467b6ac",null)),V=J.exports,z=s["a"].extend({name:"GameOver",components:{GameButton:V},data:function(){return{Color:u}},methods:Object(d["a"])({},Object(g["b"])(["resetGame"]))}),K=z,N=(n("d4e9"),Object(C["a"])(K,$,M,!1,null,"032af75d",null)),Q=N.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{class:["page-header",e.headerClass]},[n("List",{attrs:{listItems:{"Total weight":e.totalLeftSideFiguresWeight+" kg",Current:e.currentLeftWeight+" kg",Energy:e.leftSideEnergy+" kgm"}}}),n("div",{staticClass:"center"},[n("GameButton",{attrs:{color:e.Color.Green,label:e.isGamePaused?"Play":"Pause"},nativeOn:{click:function(t){return e.toggleGameState.apply(null,arguments)}}}),n("GameButton",{attrs:{color:e.Color.Red,label:"Reset"},nativeOn:{click:function(t){return e.resetGame.apply(null,arguments)}}}),n("GameButton",{attrs:{color:e.Color.Yellow,label:"Auto",isSelected:e.isAutoGame},nativeOn:{click:function(t){return e.autoGame.apply(null,arguments)}}})],1),n("List",{attrs:{listItems:{"Total weight":e.totalRightSideFiguresWeight+" kg",Current:e.currentRightWeight+" kg",Energy:e.rightSideEnergy+" kgm"}}})],1)},X=[],Z=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.listItems?n("ul",{staticClass:"list"},e._l(e.listItems,(function(t,i){return n("li",{key:i+"-"+t},[e._v(" "+e._s(i)+": "+e._s(t)+" ")])})),0):e._e()}),ee=[],te=s["a"].extend({name:"List",props:{listItems:{type:Object}}}),ne=te,ie=(n("c3b6"),Object(C["a"])(ne,Z,ee,!1,null,"7b046101",null)),re=ie.exports,ae=s["a"].extend({name:"Header",components:{GameButton:V,List:re},data:function(){return{Color:u,headerClass:L}},computed:Object(d["a"])(Object(d["a"])({},Object(g["c"])(["isAutoGame","isGamePaused","fallingFigures","leftSideEnergy","leftSideFigures","rightSideEnergy","rightSideFigures"])),{},{currentLeftWeight:function(){var e,t;return null===(e=this.fallingFigures)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.weight},currentRightWeight:function(){var e,t,n;return null!==(e=null===(t=this.rightSideFigures)||void 0===t||null===(n=t[this.rightSideFigures.length-1])||void 0===n?void 0:n.weight)&&void 0!==e?e:0},totalLeftSideFiguresWeight:function(){return this.getTotalWeight(this.leftSideFigures)},totalRightSideFiguresWeight:function(){return this.getTotalWeight(this.rightSideFigures)}}),methods:Object(d["a"])(Object(d["a"])({},Object(g["b"])(["autoGame","pauseGameTime","resetGame","startGameTime","toggleGameState"])),{},{getTotalWeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return e+t.weight}),0)}})}),ue=ae,oe=(n("6d63"),Object(C["a"])(ue,U,X,!1,null,"6d709a22",null)),se=oe.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"teeter-totter"},[n("div",{class:["teeter-totter__top",e.boardClass],style:e.boardStyles},[e._l(e.leftSideFigures,(function(e){return n("Figure",{key:e.id,attrs:{figure:e}})})),e._l(e.rightSideFigures,(function(e){return n("Figure",{key:e.id,attrs:{figure:e,"is-right-side":!0}})}))],2),n("div",{staticClass:"teeter-totter__base"})])},ce=[],de=s["a"].extend({name:"TeeterTotter",components:{Figure:x},data:function(){return{boardClass:B}},computed:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(g["c"])(["boardBendingAngle","isBoardAngleWithinLimits"])),Object(g["e"])(["leftSideFigures","rightSideFigures"])),{},{boardStyles:function(){return{transform:"rotate(".concat(this.boardBendingAngle/2,"deg)")}},figuresDiff:function(){return this.leftSideFigures.length-this.rightSideFigures.length}}),watch:{figuresDiff:function(e){e&&this.isBoardAngleWithinLimits&&this.generateFigure(!0)}},methods:Object(d["a"])({},Object(g["d"])(["generateFigure"]))}),ge=de,fe=(n("9e1a"),Object(C["a"])(ge,le,ce,!1,null,"5077b249",null)),he=fe.exports,me=s["a"].extend({name:"App",components:{AirSpace:W,GameOver:Q,Header:se,TeeterTotter:he},computed:Object(d["a"])({},Object(g["c"])(["isGameOver"])),created:function(){this.resetGame()},methods:Object(d["a"])({},Object(g["b"])(["resetGame"]))}),ve=me,pe=(n("5c0b"),Object(C["a"])(ve,l,c,!1,null,null,null)),be=pe.exports;function Fe(e){var t=e.commit,n=e.state;t("setAutoGame",!n.isAutoGame)}function Se(e){var t=e.commit;t("setGameState",S),t("setIsGameOver",!1),t("updateFallingInterval",!0),t("clearFigures"),t("generateFigure"),t("generateFigure"),t("generateFigure",!0)}function ye(e){var t=e.commit,n=e.state;t("setGameState",!n.isGamePaused)}var Oe=0;function Ge(){var e=.9,t=256,n=t/2,i=_e(0,n),r=_e(0,n),a=_e(0,n);return"rgb(".concat(a,", ").concat(r,", ").concat(i,", ").concat(e,")")}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.floor(Math.random()*t)}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.reduce((function(e,n){var i=t?b/2-n.left:n.left;return e+=n.weight*i,e}),0)}function we(){return Oe++}function Be(e,t){var n=t.leftSideFiguresSum,i=t.rightSideFiguresSum,r=0;if(n){var a=Math.abs(n-i);r=n>i?a/n*-50:a/i*50}else r=p;return r}function Ee(e){var t=e.fallingFigures;return t}function Le(e){var t=e.isAutoGame;return t}function Ie(e,t){var n=t.boardBendingAngle;return n>-p&&n<p}function Ae(e){var t=e.isGameOver;return t}function Ce(e){var t=e.isGamePaused;return t}function ke(e){var t=e.leftSideFigures;return t.reduce((function(e,t){return e+(b/2-t.left)*t.weight}),0)}function xe(e){var t=e.leftSideFigures;return t}function Pe(e){var t=e.leftSideFigures;return je(t,!0)}function Te(e){var t=e.rightSideFigures;return t.reduce((function(e,t){return e+t.left*t.weight}),0)}function Re(e){var t=e.rightSideFigures;return t}function We(e){var t=e.rightSideFigures;return je(t)}function $e(e,t){var n=t.leftSideEnergy,i=t.rightSideEnergy;return Math.abs(n-i)}var Me=n("3835");n("b64b");function qe(e,t){e.leftSideFigures.push(t)}function De(e){e.leftSideFigures=[],e.rightSideFigures=[],e.fallingFigures=[]}function He(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ge(),i=we(),r=_e(0,40),a=0,u=Object.keys(o),s=o[u[_e(0,u.length)]],l=_e(_,O),c=1+j*l,d={id:i,color:n,left:r,scale:c,top:a,type:s,weight:l};e[t?"rightSideFigures":"fallingFigures"].push(d)}function Ye(e,t){var n=e.fallingFigures,i=t.isMoveLeft,r=t.width,a=Object(Me["a"])(n,1),u=a[0],o=3,s=u.left-o>=0,l=u.left+r+o<=b/2;i?s&&(u.left=u.left-o):l&&(u.left=u.left+o)}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?e.fallingInterval=y:e.fallingInterval>G&&e.fallingInterval--}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isAutoGame=t}function ze(e,t){e.isGamePaused=t}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isGameOver=t}var Ne={fallingFigures:[],fallingInterval:y,isAutoGame:!1,isGamePaused:S,isGameOver:!1,leftSideFigures:[],rightSideFigures:[]};s["a"].use(g["a"]);var Qe=new g["a"].Store({actions:i,getters:r,mutations:a,state:Ne});n("6861");s["a"].config.productionTip=!1,new s["a"]({store:Qe,render:function(e){return e(be)}}).$mount("#app")},d4e9:function(e,t,n){"use strict";n("6fc5")},efb8:function(e,t,n){},f001:function(e,t,n){"use strict";n("0fad")}});
//# sourceMappingURL=app.85c634e7.js.map